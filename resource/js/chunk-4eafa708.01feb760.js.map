{"version":3,"sources":["webpack:///./src/views/house-detail.vue?564c","webpack:///./src/views/house-detail.vue?4493","webpack:///src/views/house-detail.vue","webpack:///./src/views/house-detail.vue?2b93","webpack:///./src/views/house-detail.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_house_detail_vue_vue_type_style_index_0_id_a88acf5e_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_house_detail_vue_vue_type_style_index_0_id_a88acf5e_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","class","is-mobile","isMobile","attrs","tag","to","_v","href","detail","onlineURL","target","_s","title","_e","pictures","length","indicator-position","interval","autoplay","arrow","_l","item","key","is3D","src","size","type","tagType","tagText","price","pubTime","icon","circle","on","click","$event","collect","location","longitude","id","domProps","innerHTML","text","goBack","view","staticRenderFns","asyncComponent","default","house_detailvue_type_script_lang_js_","props","data","undefined","collection","zoom","map","is404","methods","$router","replace","Object","house_type","appendScript","url","_this","promise_default","a","resolve","jsapi","document","createElement","charset","head","appendChild","onload","onerror","$message","error","indexOf","_collect","asyncToGenerator","regeneratorRuntime","mark","_callee","self","com","userId","_this2","wrap","_context","prev","next","user","loginVisible","template","t0","abrupt","$store","state","userInfo","$ajax","post","concat","houseID","sent","gtag","event_category","label","city","alert","message","success","stop","_x","apply","arguments","getDetail","_getDetail","_callee3","_this3","_context3","_ref","_callee2","reject","_context2","get","$route","query","_x2","_x3","installAmapUI","AMapUI","loadUI","PositionPicker","positionPicker","mode","zIndex","positionResult","myPosition","position","lngLat","AMap","LngLat","lng","lat","lnglat","keyword","address","installPlugin","plugin","toolbar","ToolBar","addControl","initMap","_initMap","_callee4","marker","_context4","Map","clearMap","Marker","latitude","add","setZoomAndCenter","computed","created","mounted","_mounted","_callee5","_context5","split","push","join","views_house_detailvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"yIAAA,IAAAA,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,GAAwiBE,EAAG,4CCA3iB,IAAAE,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,SAAAC,MAAA,CAA4BC,YAAAR,EAAAS,WAA0B,CAAAL,EAAA,UAAAA,EAAA,eAAiCE,YAAA,OAAAI,MAAA,CAA0BC,IAAA,MAAAC,GAAA,MAAsB,CAAAZ,EAAAa,GAAA,WAAAb,EAAA,OAAAI,EAAA,OAA2CE,YAAA,QAAmB,CAAAF,EAAA,KAAUE,YAAA,QAAAI,MAAA,CAA2BI,KAAAd,EAAAe,OAAAC,UAAAC,OAAA,WAA+C,CAAAjB,EAAAa,GAAAb,EAAAkB,GAAAlB,EAAAe,OAAAI,UAAAf,EAAA,KAA6CE,YAAA,SAAAI,MAAA,CAA4BI,KAAAd,EAAAe,OAAAC,UAAAC,OAAA,WAA+C,CAAAjB,EAAAa,GAAAb,EAAAkB,GAAAlB,EAAAe,OAAAC,gBAAAhB,EAAAoB,MAAA,GAAApB,EAAA,OAAAI,EAAA,OAA+EE,YAAA,WAAsB,CAAAN,EAAAe,OAAAM,UAAArB,EAAAe,OAAAM,SAAAC,OAAAlB,EAAA,OAAgEE,YAAA,eAA0B,CAAAF,EAAA,eAAoBM,MAAA,CAAOa,qBAAA,SAAAC,SAAA,EAAAC,UAAA,EAAAC,MAAA,WAA8E1B,EAAA2B,GAAA3B,EAAAe,OAAA,kBAAAa,GAA6C,OAAAxB,EAAA,oBAA8ByB,IAAAD,GAAS,CAAAxB,EAAA,KAAUE,YAAA,QAAAI,MAAA,CAA2BI,KAAAc,EAAAX,OAAA,WAA+B,CAAAjB,EAAA8B,KAAAF,GAAiDxB,EAAA,QAAAJ,EAAAa,GAAA,cAAjDT,EAAA,OAA8BM,MAAA,CAAOqB,IAAAH,WAAkD,OAAA5B,EAAAoB,KAAAhB,EAAA,OAA4BE,YAAA,QAAmB,CAAAF,EAAA,OAAYE,YAAA,SAAoB,CAAAF,EAAA,KAAUM,MAAA,CAAOI,KAAAd,EAAAe,OAAAC,UAAAC,OAAA,WAA+C,CAAAb,EAAA,UAAeM,MAAA,CAAOsB,KAAA,OAAAC,KAAAjC,EAAAkC,QAAAlC,EAAAe,UAA8C,CAAAf,EAAAa,GAAAb,EAAAkB,GAAAlB,EAAAmC,QAAAnC,EAAAe,YAAAf,EAAAa,GAAA,eAAAb,EAAAkB,GAAAlB,EAAAe,OAAAI,OAAA,kBAAAnB,EAAAe,OAAAqB,MAAA,EAAAhC,EAAA,QAA+IE,YAAA,SAAoB,CAAAF,EAAA,MAAAJ,EAAAa,GAAAb,EAAAkB,GAAAlB,EAAAe,OAAAqB,UAAApC,EAAAa,GAAA,kBAAAb,EAAAoB,KAAAhB,EAAA,QAAAJ,EAAAa,GAAA,QAAAb,EAAAkB,GAAAlB,EAAAe,OAAAsB,YAAAjC,EAAA,aAAwJE,YAAA,UAAAI,MAAA,CAA6BuB,KAAA,UAAAK,KAAA,mBAAAC,OAAA,GAAAP,KAAA,QAAqEQ,GAAA,CAAKC,MAAA,SAAAC,GAAyB1C,EAAA2C,QAAA3C,EAAAe,aAA0B,GAAAX,EAAA,OAAgBE,YAAA,WAAsB,CAAAF,EAAA,OAAYE,YAAA,YAAuB,CAAAF,EAAA,KAAUE,YAAA,qBAA+BF,EAAA,SAAa,CAAAJ,EAAAa,GAAAb,EAAAkB,GAAAlB,EAAAe,OAAA6B,eAAA5C,EAAAe,QAAAf,EAAAe,OAAA8B,UAAAzC,EAAA,OAAyFE,YAAA,MAAAI,MAAA,CAAyBoC,GAAA,SAAY9C,EAAAoB,OAAAhB,EAAA,OAAuBE,YAAA,OAAAyC,SAAA,CAA6BC,UAAAhD,EAAAkB,GAAAlB,EAAAe,OAAAkC,aAAqCjD,EAAAoB,KAAApB,EAAA,OAAAI,EAAA,OAAsCE,YAAA,UAAqB,CAAAF,EAAA,OAAAJ,EAAAa,GAAA,eAAAT,EAAA,aAAkDM,MAAA,CAAOuB,KAAA,WAAiBO,GAAA,CAAKC,MAAAzC,EAAAkD,SAAoB,CAAAlD,EAAAa,GAAA,gBAAAb,EAAAoB,KAAApB,EAAA,KAAAI,EAAAJ,EAAAmD,KAAA,CAA0DxC,IAAA,cAAgBX,EAAAoB,MAAA,IACxvEgC,EAAA,kFCgOAC,EAAAzD,EAAA,QAAA0D,QACAC,EAAA,CACAC,MAAA,CACAV,GAAA,GACA9B,UAAA,IAEAyC,KALA,WAMA,OACA1C,YAAA2C,EACAP,UAAAO,EACAC,YAAA,EACAC,KAAA,GACAC,SAAAH,EACAI,OAAA,IAGAC,QAAA,CACAb,OADA,WAEAjD,KAAA+D,QAAAC,QAAA,SAEA9B,QAJA,SAIAP,GACA,OAAAsC,OAAAC,EAAA,KAAAD,CAAAtC,IAEAM,QAPA,SAOAN,GACA,OAAAsC,OAAAC,EAAA,KAAAD,CAAAtC,IAEAwC,aAVA,SAUAC,GAAA,IAAAC,EAAArE,KACA,WAAAsE,EAAAC,EAAA,SAAAC,GACA,IAAAC,EAAAC,SAAAC,cAAA,UACAF,EAAAG,QAAA,QACAH,EAAA3C,IAAAsC,EACAM,SAAAG,KAAAC,YAAAL,GACAA,EAAAM,OAAA,WACAP,KAEAC,EAAAO,QAAA,WACAX,EAAAY,SAAAC,MAAA,uBAIArD,KAxBA,SAwBAuC,GACA,WAAAA,EAAAe,QAAA,wBAEAzC,QA3BA,eAAA0C,EAAAnB,OAAAoB,EAAA,KAAApB,CAAAqB,mBAAAC,KAAA,SAAAC,EA2BA7D,GA3BA,IAAA8D,EAAAC,EAAAC,EAAAnC,EAAAoC,EAAA5F,KAAA,OAAAsF,mBAAAO,KAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,UA4BAP,EAAAzF,KACAyF,EAAAQ,KA7BA,CAAAH,EAAAE,KAAA,gBA8BAN,EAAA/F,EAAA,QAAA0D,QA9BAyC,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAgCA5C,EACAsC,EACA,CACAnC,MAAA,CACA2C,cAAA,EACA1F,SAAAiF,EAAAjF,WAGA,SAAA2F,GACAP,EAAA1C,KAAAiD,IAzCA,OA4CAnG,KAAAkD,UAAAO,EA5CAqC,EAAAE,KAAA,uBAAAF,EAAAC,KAAA,EAAAD,EAAAM,GAAAN,EAAA,YA8CA9F,KAAAkD,UAAAO,EA9CAqC,EAAAO,OAAA,sBAkDArG,KAAA0D,WAlDA,CAAAoC,EAAAE,KAAA,gBAAAF,EAAAO,OAAA,yBAqDArG,KAAA0D,YAAA,EACAiC,EAAA3F,KAAAsG,OAAAC,MAAAC,SAAA3D,GAtDAiD,EAAAE,KAAA,GAuDAhG,KAAAyG,MAAAC,KAAA,YAAAC,OAAAhB,EAAA,iBAEAiB,QAAAjF,EAAAkB,KAzDA,QAuDAW,EAvDAsC,EAAAe,KA4DAC,MACAA,KAAA,cACAC,eAAApF,EAAAT,MACA8F,MAAArF,EAAAsF,OAGAjH,KAAA0D,YAAA,EACA1D,KAAAQ,SACA0G,MAAA1D,EAAA2D,SAEAnH,KAAAiF,SAAAmC,QAAA5D,EAAA2D,SAtEA,yBAAArB,EAAAuB,SAAA7B,EAAAxF,KAAA,qBAAA0C,EAAA4E,GAAA,OAAAlC,EAAAmC,MAAAvH,KAAAwH,WAAA,OAAA9E,EAAA,GAyEA+E,UAzEA,eAAAC,EAAAzD,OAAAoB,EAAA,KAAApB,CAAAqB,mBAAAC,KAAA,SAAAoC,IAAA,IAAAC,EAAA5H,KAAA,OAAAsF,mBAAAO,KAAA,SAAAgC,GAAA,eAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cAAA6B,EAAAxB,OAAA,SA0EA,IAAA/B,EAAAC,EAAA,eAAAuD,EAAA7D,OAAAoB,EAAA,KAAApB,CAAAqB,mBAAAC,KAAA,SAAAwC,EAAAvD,EAAAwD,GAAA,IAAAxE,EAAA,OAAA8B,mBAAAO,KAAA,SAAAoC,GAAA,eAAAA,EAAAlC,KAAAkC,EAAAjC,MAAA,cAAAiC,EAAAlC,KAAA,EAAAkC,EAAAjC,KAAA,EAEA4B,EAAAnB,MAAAyB,IAAA,aAAAvB,OACAiB,EAAA/E,GADA,yCAAA8D,OAEAiB,EAAAO,OAAAC,MAAArH,YAJA,OAEAyC,EAFAyE,EAAApB,KAOAe,EAAA9G,OAAA0C,OACAA,OACAgB,KAEAoD,EAAA/D,OAAA,EACAmE,KAZAC,EAAAjC,KAAA,gBAAAiC,EAAAlC,KAAA,EAAAkC,EAAA7B,GAAA6B,EAAA,YAeAL,EAAA3C,SAAAC,MAAA+C,EAAA7B,GAAAe,SACAa,IAhBA,yBAAAC,EAAAZ,SAAAU,EAAA/H,KAAA,4BAAAqI,EAAAC,GAAA,OAAAR,EAAAP,MAAAvH,KAAAwH,YAAA,KA1EA,wBAAAK,EAAAR,SAAAM,EAAA3H,SAAA,SAAAyH,IAAA,OAAAC,EAAAH,MAAAvH,KAAAwH,WAAA,OAAAC,EAAA,GA8FAc,cA9FA,SA8FA3E,EAAA6B,GACA,WAAAnB,EAAAC,EAAA,SAAAC,EAAAwD,GACAQ,OAAAC,OAAA,iCAAAC,GACA,IAAAC,EAAA,IAAAD,EAAA,CACAE,KAAA,aACAC,OAAA,IACAjF,QAEA+E,EAAApG,GAAA,mBAAAuG,GACArD,EAAAsD,WAAAD,EAAAE,SACAvD,EAAAkD,iBACA,IAAAM,EAAA,IAAAC,KAAAC,OAAAL,EAAAE,SAAAI,IAAAN,EAAAE,SAAAK,KACA5D,EAAA6D,OAAAL,EACAxD,EAAA8D,QAAAT,EAAAU,UAKAhF,EAAAmE,QAIAc,cApHA,SAoHA7F,EAAA6B,GACA,WAAAnB,EAAAC,EAAA,SAAAC,EAAAwD,GACAkB,KAAAQ,OACA,CACA,eACA,eACA,kBAHA,qBAKA,gBACA,eACA,cACA,mBACA,oBACA,oBAEA,WAEA,IAAAC,EAAA,IAAAT,KAAAU,QACAhG,EAAAiG,WAAAF,GAKAnF,SAKAsF,QAhJA,eAAAC,EAAA9F,OAAAoB,EAAA,KAAApB,CAAAqB,mBAAAC,KAAA,SAAAyE,IAAA,IAAApG,EAAAqG,EAAA,OAAA3E,mBAAAO,KAAA,SAAAqE,GAAA,eAAAA,EAAAnE,KAAAmE,EAAAlE,MAAA,cAiJApC,EAAA,IAAAsF,KAAAiB,IAAA,UACAnK,KAAA4D,MACAA,EAAAwG,WAEAH,EAAA,IAAAf,KAAAmB,OAAA,CACAzG,MACA1C,MAAAlB,KAAAc,OAAAI,MACA8H,SAAA,CAAAhJ,KAAAc,OAAA8B,UAAA5C,KAAAc,OAAAwJ,YAxJAJ,EAAAlE,KAAA,EA0JAhG,KAAAyJ,cAAA7F,EAAA6B,MA1JA,cAAAyE,EAAAlE,KAAA,EA2JAhG,KAAAuI,cAAA3E,EAAA6B,MA3JA,OA4JA7B,EAAA2G,IAAAN,GACArG,EAAA4G,iBAAA,IAAAxK,KAAAc,OAAA8B,UAAA5C,KAAAc,OAAAwJ,WA7JA,yBAAAJ,EAAA7C,SAAA2C,EAAAhK,SAAA,SAAA8J,IAAA,OAAAC,EAAAxC,MAAAvH,KAAAwH,WAAA,OAAAsC,EAAA,IAgKAW,SAAA,CACAjK,SADA,WAEA,OAAAR,KAAAsG,OAAAC,MAAA/F,UAEAyF,KAJA,WAKA,QAAAjG,KAAAsG,OAAAC,MAAAC,WAGAkE,QAvLA,aAwLAC,QAxLA,eAAAC,EAAA3G,OAAAoB,EAAA,KAAApB,CAAAqB,mBAAAC,KAAA,SAAAsF,IAAA,IAAAjJ,EAAA8H,EAAAtF,EAAA,OAAAkB,mBAAAO,KAAA,SAAAiF,GAAA,eAAAA,EAAA/E,KAAA+E,EAAA9E,MAAA,UAyLApE,EAzLA,mCA0LA8H,EAAA,0GAAAqB,QACArB,EAAAsB,KAAA,gBACA5G,EA5LA,4CAAAuC,OA4LA/E,EA5LA,YAAA+E,OA4LA+C,EAAAuB,SAEAjL,KAAA6C,GA9LA,CAAAiI,EAAA9E,KAAA,gBAAA8E,EAAA9E,KAAA,EA+LAhG,KAAAyH,YA/LA,UAgMAX,KAAA,iBACA9G,KAAAc,OAAA8B,UAjMA,CAAAkI,EAAA9E,KAAA,gBAAA8E,EAAAzE,OAAA,yBAAAyE,EAAA9E,KAAA,GAoMAhG,KAAAmE,aAAAC,GApMA,eAAA0G,EAAA9E,KAAA,GAqMAhG,KAAAmE,aAAA,6CArMA,QAsMAnE,KAAA8J,UAtMA,yBAAAgB,EAAAzD,SAAAwD,EAAA7K,SAAA,SAAA2K,IAAA,OAAAC,EAAArD,MAAAvH,KAAAwH,WAAA,OAAAmD,EAAA,IClOsVO,EAAA,0BCQtVC,EAAgBlH,OAAAmH,EAAA,KAAAnH,CACdiH,EACApL,EACAqD,GACF,EACA,KACA,WACA,MAIekI,EAAA,WAAAF","file":"resource/js/chunk-4eafa708.01feb760.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./house-detail.vue?vue&type=style&index=0&id=a88acf5e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./house-detail.vue?vue&type=style&index=0&id=a88acf5e&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail\",class:{'is-mobile':_vm.isMobile}},[_c('header',[_c('router-link',{staticClass:\"name\",attrs:{\"tag\":\"div\",\"to\":\"/\"}},[_vm._v(\"地图搜租房\")]),(_vm.detail)?_c('div',{staticClass:\"form\"},[_c('a',{staticClass:\"title\",attrs:{\"href\":_vm.detail.onlineURL,\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.detail.title))]),_c('a',{staticClass:\"source\",attrs:{\"href\":_vm.detail.onlineURL,\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.detail.onlineURL))])]):_vm._e()],1),(_vm.detail)?_c('div',{staticClass:\"content\"},[(_vm.detail.pictures && _vm.detail.pictures.length)?_c('div',{staticClass:\"images-wrap\"},[_c('el-carousel',{attrs:{\"indicator-position\":\"inside\",\"interval\":0,\"autoplay\":false,\"arrow\":\"always\"}},_vm._l((_vm.detail.pictures),function(item){return _c('el-carousel-item',{key:item},[_c('a',{staticClass:\"image\",attrs:{\"href\":item,\"target\":\"_blank\"}},[(!_vm.is3D(item))?_c('img',{attrs:{\"src\":item}}):_c('span',[_vm._v(\"点击进入3D看房\")])])])}),1)],1):_vm._e(),_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"title\"},[_c('a',{attrs:{\"href\":_vm.detail.onlineURL,\"target\":\"_blank\"}},[_c('el-tag',{attrs:{\"size\":\"mini\",\"type\":_vm.tagType(_vm.detail)}},[_vm._v(_vm._s(_vm.tagText(_vm.detail)))]),_vm._v(\"\\n          \"+_vm._s(_vm.detail.title)+\"\\n        \")],1),(_vm.detail.price > 0)?_c('span',{staticClass:\"price\"},[_c('em',[_vm._v(_vm._s(_vm.detail.price))]),_vm._v(\"/月\\n        \")]):_vm._e(),_c('span',[_vm._v(\"发布时间：\"+_vm._s(_vm.detail.pubTime))]),_c('el-button',{staticClass:\"collect\",attrs:{\"type\":\"warning\",\"icon\":\"el-icon-star-off\",\"circle\":\"\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.collect(_vm.detail)}}})],1),_c('div',{staticClass:\"address\"},[_c('div',{staticClass:\"location\"},[_c('i',{staticClass:\"el-icon-location\"}),_c('div',{},[_vm._v(_vm._s(_vm.detail.location))])]),(_vm.detail && _vm.detail.longitude)?_c('div',{staticClass:\"map\",attrs:{\"id\":\"map\"}}):_vm._e()]),_c('div',{staticClass:\"text\",domProps:{\"innerHTML\":_vm._s(_vm.detail.text)}})])]):_vm._e(),(_vm.is404)?[_c('div',{staticClass:\"is-404\"},[_c('div',[_vm._v(\"404,找不到数据\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.goBack}},[_vm._v(\"返回地图页\")])],1)]:_vm._e(),(_vm.view)?_c(_vm.view,{tag:\"component\"}):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"detail\" :class=\"{'is-mobile':isMobile}\">\n    <header>\n      <router-link tag=\"div\" class=\"name\" to=\"/\">地图搜租房</router-link>\n      <div class=\"form\" v-if=\"detail\">\n        <a class=\"title\" :href=\"detail.onlineURL\" target=\"_blank\">{{detail.title}}</a>\n        <a class=\"source\" :href=\"detail.onlineURL\" target=\"_blank\">{{detail.onlineURL}}</a>\n      </div>\n    </header>\n    <div class=\"content\" v-if=\"detail\">\n      <div class=\"images-wrap\" v-if=\"detail.pictures && detail.pictures.length\">\n        <el-carousel indicator-position=\"inside\" :interval=\"0\" :autoplay=\"false\" arrow=\"always\">\n          <el-carousel-item v-for=\"item in detail.pictures\" :key=\"item\">\n            <a :href=\"item\" target=\"_blank\" class=\"image\">\n              <img :src=\"item\" v-if=\"!is3D(item)\">\n              <span v-else>点击进入3D看房</span>\n            </a>\n          </el-carousel-item>\n        </el-carousel>\n      </div>\n      <div class=\"info\">\n        <div class=\"title\">\n          <a :href=\"detail.onlineURL\" target=\"_blank\">\n            <el-tag size=\"mini\" :type=\"tagType(detail)\">{{tagText(detail)}}</el-tag>\n            {{detail.title}}\n          </a>\n          <span class=\"price\" v-if=\"detail.price > 0\">\n            <em>{{detail.price}}</em>/月\n          </span>\n          <span>发布时间：{{detail.pubTime}}</span>\n          <el-button\n            class=\"collect\"\n            type=\"warning\"\n            icon=\"el-icon-star-off\"\n            circle\n            size=\"mini\"\n            @click=\"collect(detail)\"\n          ></el-button>\n        </div>\n        <div class=\"address\">\n          <div class=\"location\">\n            <i class=\"el-icon-location\"></i>\n            <div class=\"\">{{detail.location}}</div>\n          </div>\n          <div id=\"map\" class=\"map\" v-if=\"detail && detail.longitude\"></div>\n        </div>\n        <div class=\"text\" v-html=\"detail.text\"></div>\n      </div>\n    </div>\n    <template v-if=\"is404\">\n      <div class=\"is-404\">\n        <div>404,找不到数据</div>\n        <el-button @click=\"goBack\" type=\"primary\">返回地图页</el-button>\n      </div>\n    </template>\n    <component v-if=\"view\" :is=\"view\"></component>\n  </div>\n</template>\n<style lang=\"scss\" scoped>\n.detail {\n  min-height: 100vh;\n  background: #f1f1f1;\n\n  .collect {\n    position: absolute;\n    right: 0;\n    top: 50%;\n    transform: translateY(-50%);\n  }\n\n  header {\n    padding: 25px 10%;\n    background: rgba(26, 31, 42, 0.9);\n\n    .name {\n      color: #0e90d2;\n      font-size: 21px;\n      font-weight: 600;\n      letter-spacing: 7px;\n      margin-bottom: 20px;\n      cursor: pointer;\n    }\n\n    .form {\n      display: flex;\n      justify-content: space-between;\n      flex-wrap: wrap;\n      word-break: break-all;\n\n      .title {\n        max-width: 80%;\n      }\n\n      a {\n        color: #fff;\n        font-size: 14px;\n        transition: all 0.2s;\n        text-decoration: underline;\n\n        &:hover {\n          color: lightblue;\n        }\n      }\n    }\n  }\n\n  .map {\n    height: 300px;\n    width: 100%;\n    margin-top: 15px;\n  }\n\n  .content {\n    padding: 0 10%;\n    margin: auto;\n  }\n\n  .images-wrap {\n    margin-top: 10px;\n  }\n\n  .image {\n    display: block;\n    height: 100%;\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: contain;\n\n    img {\n      display: block;\n      object-fit: contain;\n      height: 100%;\n      max-width: 100%;\n      margin: auto;\n    }\n\n    span {\n      display: flex;\n      text-decoration: underline;\n      align-items: center;\n      justify-content: center;\n      font-size: 16px;\n      color: #7c7c7c;\n      height: 100%;\n    }\n  }\n\n  .info {\n    background: #fff;\n    padding: 12px;\n    min-height: 1000px;\n\n    .title {\n      position: relative;\n      display: flex;\n      align-items: baseline;\n      color: #333;\n      font-size: 18px;\n      transition: all 0.2s;\n      flex-wrap: wrap;\n\n      .price {\n        margin-left: 15px;\n        font-size: 16px;\n        margin-right: 30px;\n\n        em {\n          font-style: normal;\n          font-weight: normal;\n          color: #e31818;\n        }\n      }\n\n      a {\n        display: block;\n        color: #333;\n        text-decoration: underline;\n\n        &:hover {\n          color: lightblue;\n        }\n      }\n    }\n\n    .address {\n      border-top: 1px solid #737b8a;\n      border-bottom: 1px solid #737b8a;\n      color: #737b8a;\n      display: flex;\n      flex-direction: column;\n      margin: 20px 0;\n      padding: 8px 0;\n      font-size: 16px;\n\n      .location {\n        display: flex;\n        align-items: baseline;\n      }\n\n      i {\n        margin-right: 4px;\n        font-size: 18px;\n      }\n    }\n  }\n\n  .text {\n    word-break: break-word;\n  }\n\n  &.is-mobile {\n    .content {\n      padding: 0 4%;\n    }\n  }\n}\n.is-404 {\n  margin-top: 120px;\n  font-size: 32px;\n  text-align: center;\n}\n</style>\n<script>\nimport { tagText, tagType } from \"../components/house-type\";\n\nconst asyncComponent = require(\"../components/async-component.tsx\").default;\nexport default {\n  props: {\n    id: {},\n    onlineURL: {}\n  },\n  data() {\n    return {\n      detail: undefined,\n      view: undefined,\n      collection: false,\n      zoom: 16,\n      map: undefined,\n      is404: false\n    };\n  },\n  methods: {\n    goBack() {\n      this.$router.replace(`/Map`);\n    },\n    tagText(item) {\n      return tagText(item);\n    },\n    tagType(item) {\n      return tagType(item);\n    },\n    appendScript(url) {\n      return new Promise(resolve => {\n        let jsapi = document.createElement(\"script\");\n        jsapi.charset = \"utf-8\";\n        jsapi.src = url;\n        document.head.appendChild(jsapi);\n        jsapi.onload = () => {\n          resolve();\n        };\n        jsapi.onerror = () => {\n          this.$message.error(\"地图初始化失败,请重新刷新页面\");\n        };\n      });\n    },\n    is3D(url) {\n      return url.indexOf(\"realsee.com/ziroom/\") !== -1;\n    },\n    async collect(item) {\n      let self = this;\n      if (!self.user) {\n        let com = require(\"../components/login-dialog\").default;\n        try {\n          await asyncComponent(\n            com,\n            {\n              props: {\n                loginVisible: true,\n                isMobile: self.isMobile\n              }\n            },\n            template => {\n              this.view = template;\n            }\n          );\n          this.view = undefined;\n        } catch (e) {\n          this.view = undefined;\n          return;\n        }\n      }\n      if (this.collection) {\n        return;\n      }\n      this.collection = true;\n      const userId = this.$store.state.userInfo.id;\n      const data = await this.$ajax.post(`v2/users/${userId}/collections`, {\n        // userId,\n        houseID: item.id\n        // source: item.source\n      });\n      if (gtag) {\n        gtag(\"event\", \"收藏\", {\n          event_category: item.title,\n          label: item.city\n        });\n      }\n      this.collection = false;\n      if (this.isMobile) {\n        alert(data.message);\n      } else {\n        this.$message.success(data.message);\n      }\n    },\n    async getDetail() {\n      return new Promise(async (resolve, reject) => {\n        try {\n          const data = await this.$ajax.get(\n            `v2/houses/${this.id}?tdsourcetag=s_pcqq_aiomsg&onlineURL=${\n              this.$route.query.onlineURL\n            }`\n          );\n          this.detail = data.data;\n          if (data.data) {\n            resolve();\n          } else {\n            this.is404 = true;\n            reject();\n          }\n        } catch (e) {\n          this.$message.error(e.message);\n          reject();\n        }\n      });\n    },\n    installAmapUI(map, self) {\n      return new Promise((resolve, reject) => {\n        AMapUI.loadUI([\"misc/PositionPicker\"], function(PositionPicker) {\n          let positionPicker = new PositionPicker({\n            mode: \"dragMarker\", //设定为拖拽地图模式，可选'dragMap'、'dragMarker'，默认为'dragMap'\n            zIndex: 100000,\n            map: map //依赖地图对象\n          });\n          positionPicker.on(\"success\", function(positionResult) {\n            self.myPosition = positionResult.position;\n            self.positionPicker = positionPicker;\n            var lngLat = new AMap.LngLat(positionResult.position.lng,  positionResult.position.lat);\n            self.lnglat = lngLat;\n            self.keyword = positionResult.address;\n          });\n\n          // positionPicker.start();\n\n          resolve(positionPicker);\n        });\n      });\n    },\n    installPlugin(map, self) {\n      return new Promise((resolve, reject) => {\n        AMap.plugin(\n          [\n            \"AMap.ToolBar\",\n            \"AMap.Driving\",\n            \"AMap.LineSearch\",\n            `AMap.StationSearch`,\n            \"AMap.Transfer\",\n            \"AMap.Walking\",\n            \"AMap.Riding\",\n            \"AMap.Geolocation\",\n            \"AMap.AutoComplete\",\n            \"AMap.PlaceSearch\"\n          ],\n          function() {\n            //异步同时加载多个插件\n            let toolbar = new AMap.ToolBar();\n            map.addControl(toolbar);\n\n            let options = {\n              showMarker: false //是否显示定位按钮\n            };\n            resolve();\n          }\n        );\n      });\n    },\n    async initMap() {\n      let map = new AMap.Map(\"map\", {});\n      this.map = map;\n      map.clearMap();\n      // map.setCity(this.detail.city);\n      let marker = new AMap.Marker({\n        map: map,\n        title: this.detail.title,\n        position: [this.detail.longitude, this.detail.latitude]\n      });\n      await this.installPlugin(map, self);\n      await this.installAmapUI(map, self);\n      map.add(marker);\n      map.setZoomAndCenter(16, [this.detail.longitude, this.detail.latitude]);\n    }\n  },\n  computed: {\n    isMobile() {\n      return this.$store.state.isMobile;\n    },\n    user() {\n      return !!this.$store.state.userInfo;\n    }\n  },\n  created() {},\n  async mounted() {\n    let key = `8a971a2f88a0ec7458d43b8bc03b6462`;\n    let plugin = `AMap.ArrivalRange,AMap.Scale,AMap.Geocoder,AMap.Transfer,AMap.AutoComplete,AMap.CitySearch,AMap.Walking`.split();\n    plugin.push(`AMap.ToolBar`);\n    let url = `https://webapi.amap.com/maps?v=1.4.8&key=${key}&plugin=${plugin.join()}`;\n\n    if (this.id) {\n      await this.getDetail();\n      gtag(\"event\", \"房源详情页\");\n      if (!this.detail.longitude) {\n        return;\n      }\n      await this.appendScript(url);\n      await this.appendScript(`//webapi.amap.com/ui/1.0/main.js?v=1.0.11`);\n      this.initMap();\n    }\n  }\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./house-detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./house-detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./house-detail.vue?vue&type=template&id=a88acf5e&scoped=true&\"\nimport script from \"./house-detail.vue?vue&type=script&lang=js&\"\nexport * from \"./house-detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./house-detail.vue?vue&type=style&index=0&id=a88acf5e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a88acf5e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}