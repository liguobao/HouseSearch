{"version":3,"sources":["webpack:///./src/views/third-party-login.vue?ae74","webpack:///src/views/third-party-login.vue","webpack:///./src/views/third-party-login.vue?a11a","webpack:///./src/views/third-party-login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","modifiers","fullscreen","lock","staticClass","view","tag","_e","staticRenderFns","asyncComponent","__webpack_require__","default","third_party_loginvue_type_script_lang_js_","data","fullscreenLoading","undefined","methods","login","_login","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","options","params","com","_this","wrap","_context","prev","next","assign_default","$ajax","get","concat","$qs","stringify","sent","$store","dispatch","gtag","event_category","userName","email","props","isMobile","template","t0","$message","success","$router","replace","stop","_x","apply","arguments","created","_created","_callee2","query","_context2","$route","code","state","mounted","views_third_party_loginvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"yHAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,WAAA,EAAaC,KAAA,UAAAC,QAAA,4BAAAC,MAAAT,EAAA,kBAAAU,WAAA,oBAAAC,UAAA,CAA2HC,YAAA,EAAAC,MAAA,KAA+BC,YAAA,UAAuB,CAAAd,EAAA,KAAAI,EAAAJ,EAAAe,KAAA,CAA0BC,IAAA,cAAgBhB,EAAAiB,MAAA,IAClVC,EAAA,4DCOAC,2CAAAC,EAAA,QAAAC,SACAC,EAAA,CACAC,KADA,WAEA,OACAC,mBAAA,EACAT,UAAAU,IAGAC,QAAA,CACAC,MADA,eAAAC,EAAAC,OAAAC,EAAA,KAAAD,CAAAE,mBAAAC,KAAA,SAAAC,EACAC,GADA,IAAAC,EAAAZ,EAAAa,EAAAC,EAAApC,KAAA,OAAA8B,mBAAAO,KAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAEAN,EAAAO,IAAA,GAAAR,GAFAK,EAAAE,KAAA,EAGAxC,KAAA0C,MAAAC,IAAA,uBAAAC,OACA5C,KAAA6C,IAAAC,UAAAZ,KAJA,UAGAZ,EAHAgB,EAAAS,KAMA/C,KAAAgD,OAAAC,SAAA,YAAA3B,GACA4B,MACAA,KAAA,gBACAC,eAAA7B,OAAA8B,WAGApD,KAAAuB,mBAAA,EAEAD,OAAA+B,MAdA,CAAAf,EAAAE,KAAA,gBAeAL,EAAAhB,EAAA,QAAAC,QAfAkB,EAAAC,KAAA,EAAAD,EAAAE,KAAA,GAiBAtB,EACAiB,EACA,CACAmB,MAAA,CACAC,SAAAvD,KAAAuD,WAGA,SAAAC,GACApB,EAAAtB,KAAA0C,IAzBA,QA4BAxD,KAAAc,UAAAU,EA5BAc,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAmB,GAAAnB,EAAA,YA8BAtC,KAAAc,UAAAU,EA9BA,QAkCAxB,KAAA0D,SAAAC,QAAA,QACA3D,KAAAgD,OAAAC,SAAA,8BACAjD,KAAA4D,QAAAC,QAAA,KApCA,yBAAAvB,EAAAwB,SAAA9B,EAAAhC,KAAA,sBAAA0B,EAAAqC,GAAA,OAAApC,EAAAqC,MAAAhE,KAAAiE,WAAA,OAAAvC,EAAA,IAuCAwC,QA9CA,eAAAC,EAAAvC,OAAAC,EAAA,KAAAD,CAAAE,mBAAAC,KAAA,SAAAqC,IAAA,IAAAC,EAAA,OAAAvC,mBAAAO,KAAA,SAAAiC,GAAA,eAAAA,EAAA/B,KAAA+B,EAAA9B,MAAA,OA+CA6B,EAAArE,KAAAuE,OAAAF,MACAA,EAAAG,MAAAH,EAAAI,OACAzE,KAAAuB,mBAAA,EACAvB,KAAA0B,MAAA,CACA8C,KAAAH,EAAAG,KACAC,MAAAJ,EAAAI,UAGAzE,KAAAuB,mBAAA,EACAvB,KAAA4D,QAAAC,QAAA,MAxDA,wBAAAS,EAAAR,SAAAM,EAAApE,SAAA,SAAAkE,IAAA,OAAAC,EAAAH,MAAAhE,KAAAiE,WAAA,OAAAC,EAAA,GA2DAQ,QA3DA,cCT2VC,EAAA,cCO3VC,EAAgBhD,OAAAiD,EAAA,KAAAjD,CACd+C,EACA7E,EACAmB,GACF,EACA,KACA,WACA,MAIe6D,EAAA,WAAAF","file":"resource/js/chunk-2d0a49d1.35ea66a3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading.fullscreen.lock\",value:(_vm.fullscreenLoading),expression:\"fullscreenLoading\",modifiers:{\"fullscreen\":true,\"lock\":true}}],staticClass:\"social\"},[(_vm.view)?_c(_vm.view,{tag:\"component\"}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"social\" v-loading.fullscreen.lock=\"fullscreenLoading\">\n    <component :is=\"view\" v-if=\"view\"></component>\n  </div>\n</template>\n<style scoped lang=\"scss\">\n</style>\n<script>\nconst asyncComponent = require(\"../components/async-component.tsx\").default;\nexport default {\n  data() {\n    return {\n      fullscreenLoading: true,\n      view: undefined\n    };\n  },\n  methods: {\n    async login(options) {\n      const params = Object.assign({}, options);\n      const data = await this.$ajax.get(\n        `v1/account/callback?${this.$qs.stringify(params)}`\n      );\n      this.$store.dispatch(\"UserLogin\", data);\n      if (gtag) {\n        gtag(\"event\", \"QQ登录\", {\n          event_category: data.data.userName\n        });\n      }\n      this.fullscreenLoading = false;\n\n      if (!data.data.email) {\n        let com = require(\"./../components/set-email\").default;\n        try {\n          await asyncComponent(\n            com,\n            {\n              props: {\n                isMobile: this.isMobile\n              }\n            },\n            template => {\n              this.view = template;\n            }\n          );\n          this.view = undefined;\n        } catch (e) {\n          this.view = undefined;\n        }\n      }\n\n      this.$message.success(\"登录成功\");\n      this.$store.dispatch(\"setDialogName\", \"setAddress\");\n      this.$router.replace(\"/\");\n    }\n  },\n  async created() {\n    const query = this.$route.query;\n    if (query.code && query.state) {\n      this.fullscreenLoading = true;\n      this.login({\n        code: query.code,\n        state: query.state\n      });\n    } else {\n      this.fullscreenLoading = false;\n      this.$router.replace(\"/\");\n    }\n  },\n  mounted() {}\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./third-party-login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./third-party-login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./third-party-login.vue?vue&type=template&id=51a9a7be&scoped=true&\"\nimport script from \"./third-party-login.vue?vue&type=script&lang=js&\"\nexport * from \"./third-party-login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"51a9a7be\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}